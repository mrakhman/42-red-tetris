(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{217:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(218),a=n(0),o=n.n(a),i=n(377),s=n(273),l=n(266);n.n(l)()(""+(e&&Object({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"red-tetris",slug:"red-tetris",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"},updates:{fallbackToCacheTimeout:0},assetBundlePatterns:["**/*"],web:{},sdkVersion:"38.0.0",platforms:["ios","android","web"]}})&&Object({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"red-tetris",slug:"red-tetris",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"},updates:{fallbackToCacheTimeout:0},assetBundlePatterns:["**/*"],web:{},sdkVersion:"38.0.0",platforms:["ios","android","web"]}}).EXPO_SOCKET_URL||"http://localhost:3001"));function c(){return o.a.createElement(i.b,null,o.a.createElement(s.a,null),o.a.createElement(r.StatusBar,null))}}).call(this,n(12))},273:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n(215),a=n(197),o=n(66),i=n(381),s=n(0),l=n(3),c=n(36),u=n(57),d=n(4);function f(e){var t=e.navigation;return s.createElement(d.a,{style:m.container},s.createElement(c.a,{style:m.title},"This screen doesn't exist."),s.createElement(u.a,{onPress:function(){return t.replace("Root")},style:m.link},s.createElement(c.a,{style:m.linkText},"Go to home screen!")))}var m=l.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}});function p(e){var t=e.navigation;return s.createElement(d.a,{style:h.container},s.createElement(c.a,{style:h.title},"Login"),s.createElement(u.a,{onPress:function(){return t.push("Room")},style:h.link},s.createElement(c.a,{style:h.linkText},"Go to room!")))}var h=l.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}});function y(e){var t=e.navigation;return s.createElement(d.a,{style:g.container},s.createElement(c.a,{style:g.title},"Room"),s.createElement(u.a,{onPress:function(){return t.push("Playground")},style:g.link},s.createElement(c.a,{style:g.linkText},"Go to Playground!")))}var g=l.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),b=n(7),x=n.n(b),k=n(41),E=n.n(k),v=n(240),S=n(241),C=n.n(S),I={I:[[1,1,1,1]],L:[[0,0,1],[1,1,1]],J:[[1,0,0],[1,1,1]],Z:[[1,1,0],[0,1,1]],S:[[0,1,1],[1,1,0]],O:[[1,1],[1,1]],T:[[0,1,0],[1,1,1]]},w={I:[[-1,1],[1,-1]],L:[[0,0]],J:[[0,0]],Z:[[0,0]],S:[[0,0]],O:[[0,0]],T:[[0,0],[1,0],[-1,1],[0,-1]]},T=["I","L","J","Z","S","O","T"],P=37,R=38,O=39,z=40,j=n(13),L=n.n(j),N=n(17),V=n.n(N),B=function(){function e(t){var n;if(L()(this,e),this.type=t.type,this.xy=null!=(n=t.xy)?n:[-1,4],t.rotateIndex?this.rotateIndex=t.rotateIndex:this.rotateIndex=0,t.timeStamp?this.timeStamp=t.timeStamp:this.timeStamp=Date.now(),t.shape?this.shape=t.shape:this.shape=I[t.type].map((function(e){return e})),!t.xy)switch(t.type){case"I":this.xy=[0,3];break;case"L":case"J":case"Z":case"S":case"O":case"T":this.xy=[-1,4]}}return V()(e,[{key:"rotate",value:function(){var t=this.shape,n=t[0].map((function(e,n){return t.map((function(e){return e[n]})).reverse()})),r=[this.xy[0]+w[this.type][this.rotateIndex][0],this.xy[1]+w[this.type][this.rotateIndex][1]],a=this.rotateIndex+1>=w[this.type].length?0:this.rotateIndex+1;return new e({shape:n,type:this.type,xy:r,rotateIndex:a,timeStamp:this.timeStamp})}},{key:"fall",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new e({shape:this.shape,type:this.type,xy:[this.xy[0]+t,this.xy[1]],rotateIndex:this.rotateIndex,timeStamp:Date.now()})}},{key:"right",value:function(){return new e({shape:this.shape,type:this.type,xy:[this.xy[0],this.xy[1]+1],rotateIndex:this.rotateIndex,timeStamp:this.timeStamp})}},{key:"left",value:function(){return new e({shape:this.shape,type:this.type,xy:[this.xy[0],this.xy[1]-1],rotateIndex:this.rotateIndex,timeStamp:this.timeStamp})}}]),e}(),W=l.a.create({container:{marginRight:2,marginBottom:2},outer:{alignItems:"center",borderColor:"#879372",borderWidth:1,height:20,justifyContent:"center",width:20},inner:{height:12,width:12,backgroundColor:"#879372"}}),_=function(e){var t=e.value;return s.createElement(d.a,{style:[W.outer,t?{borderColor:"black"}:void 0]},s.createElement(d.a,{style:[W.inner,t?{backgroundColor:"black"}:void 0]}))},A=function(e){var t=e.matrix;return s.createElement(d.a,{style:{height:22*E.a.size(t),padding:2,justifyContent:"space-between",borderColor:"black",borderWidth:1,backgroundColor:"#9ead86"}},E.a.map(t,(function(e,t){return s.createElement(d.a,{key:t,style:{flexDirection:"row",width:22*E.a.size(e),justifyContent:"space-between"}},E.a.map(e,(function(e,t){return s.createElement(_,{key:t,value:e})})))})))};function D(){var e,t=s.useState(new B({type:null!=(e=E.a.sample(T))?e:"T"})),n=x()(t,2),r=n[0],a=n[1];Object(v.a)((function(){a((function(e){var t;return e.xy[0]+e.shape.length<20?e.fall():new B({type:null!=(t=E.a.sample(T))?t:"T"})}))}),500),C()((function(e){e===R&&a((function(e){return e.rotate()})),e===P&&a((function(e){return e.left()})),e===O&&a((function(e){return e.right()})),e===z&&a((function(e){return e.fall()}))}));var o=function(e,t){var n=t.shape,r=t.xy;return n.forEach((function(t,a){return t.forEach((function(t,o){r[0]+a>=0&&r[0]+a<20&&r[1]+o<10&&(e[r[0]+a][r[1]+o]=n[a][o])}))})),e}(E.a.map(Array(20),(function(){return E.a.map(Array(10),0)})),r);return s.createElement(d.a,{style:J.container},s.createElement(d.a,{style:J.gameboy},s.createElement(c.a,{style:J.title},"R E D \u25a0 T E T R I S"),s.createElement(d.a,{style:J.display},s.createElement(A,{matrix:o}),s.createElement(d.a,{style:{width:150}})),s.createElement(d.a,{style:{height:350}})))}var J=l.a.create({container:{flex:1,backgroundColor:"#009688",alignItems:"center",justifyContent:"center",padding:20},display:{alignSelf:"baseline",backgroundColor:"#9ead86",borderWidth:5,flexDirection:"row",padding:10,borderLeftColor:"#980f0f",borderTopColor:"#980f0f",borderRightColor:"#fa6b6b",borderBottomColor:"#fa6b6b"},gameboy:{backgroundColor:"#ee1919",borderRadius:20,paddingBottom:50,paddingHorizontal:80},title:{fontSize:30,marginVertical:20,textAlign:"center"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),U={prefixes:[n(242).makeUrl("/")],config:{screens:{Root:"/",Room:"/room",Playground:"/play",NotFound:"*"}}};function F(e){var t=e.colorScheme;return s.createElement(r.a,{linking:U,theme:"dark"===t?a.a:o.a},s.createElement(Z,null))}var M=Object(i.a)();function Z(){return s.createElement(M.Navigator,{screenOptions:{headerShown:!1}},s.createElement(M.Screen,{name:"Root",component:p}),s.createElement(M.Screen,{name:"Room",component:y}),s.createElement(M.Screen,{name:"Playground",component:D}),s.createElement(M.Screen,{name:"NotFound",component:f,options:{title:"Oops!"}}))}},286:function(e,t,n){n(287),e.exports=n(375)},287:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},367:function(e,t){}},[[286,1,2]]]);
//# sourceMappingURL=app.9d994e8d.chunk.js.map