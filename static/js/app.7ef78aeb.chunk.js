(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{188:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var r=n(159),a=n(0),i=n.n(a),o=n(269),c=n(157),l=n(150),s=n(58),u=n(268),m=n(3),h=n(34),f=n(51),p=n(4);function d(e){var t=e.navigation;return a.createElement(p.a,{style:y.container},a.createElement(h.a,{style:y.title},"This screen doesn't exist."),a.createElement(f.a,{onPress:function(){return t.replace("Root")},style:y.link},a.createElement(h.a,{style:y.linkText},"Go to home screen!")))}var y=m.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}});function g(e){var t=e.navigation;return a.createElement(p.a,{style:x.container},a.createElement(h.a,{style:x.title},"Login"),a.createElement(f.a,{onPress:function(){return t.push("Room")},style:x.link},a.createElement(h.a,{style:x.linkText},"Go to room!")))}var x=m.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}});function k(e){var t=e.navigation;return a.createElement(p.a,{style:v.container},a.createElement(h.a,{style:v.title},"Room"),a.createElement(f.a,{onPress:function(){return t.push("Playground")},style:v.link},a.createElement(h.a,{style:v.linkText},"Go to Playground!")))}var v=m.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),E=n(7),b=n.n(E),S=n(39),I=n.n(S),w=n(174),T=n(175),C=n.n(T),j=m.a.create({container:{marginRight:2,marginBottom:2},outer:{alignItems:"center",borderColor:"#879372",borderWidth:1,height:20,justifyContent:"center",width:20},inner:{height:12,width:12,backgroundColor:"#879372"}}),z=function(e){var t=e.value;return a.createElement(p.a,{style:[j.outer,t?{borderColor:"black"}:void 0]},a.createElement(p.a,{style:[j.inner,t?{backgroundColor:"black"}:void 0]}))},O=function(e){var t=e.matrix;return a.createElement(p.a,{style:{height:22*I.a.size(t),padding:2,justifyContent:"space-between",borderColor:"black",borderWidth:1,backgroundColor:"#9ead86"}},I.a.map(t,(function(e,t){return a.createElement(p.a,{key:t,style:{flexDirection:"row",width:22*I.a.size(e),justifyContent:"space-between"}},I.a.map(e,(function(e,t){return a.createElement(z,{key:t,value:e})})))})))},P={I:[[1,1,1,1]],L:[[0,0,1],[1,1,1]],J:[[1,0,0],[1,1,1]],Z:[[1,1,0],[0,1,1]],S:[[0,1,1],[1,1,0]],O:[[1,1],[1,1]],T:[[0,1,0],[1,1,1]]},R={I:[[-1,1],[1,-1]],L:[[0,0]],J:[[0,0]],Z:[[0,0]],S:[[0,0]],O:[[0,0]],T:[[0,0],[1,0],[-1,1],[0,-1]]},W=["I","L","J","Z","S","O","T"],J=n(12),L=n.n(J),V=n(16),Z=n.n(V),B=function(){function e(t){var n;if(L()(this,e),this.type=t.type,this.xy=null!=(n=t.xy)?n:[-1,4],t.rotateIndex?this.rotateIndex=t.rotateIndex:this.rotateIndex=0,t.timeStamp?this.timeStamp=t.timeStamp:this.timeStamp=Date.now(),t.shape?this.shape=t.shape:this.shape=P[t.type].map((function(e){return e})),!t.xy)switch(t.type){case"I":this.xy=[0,3];break;case"L":case"J":case"Z":case"S":case"O":case"T":this.xy=[-1,4]}}return Z()(e,[{key:"rotate",value:function(){var t=this.shape,n=t[0].map((function(e,n){return t.map((function(e){return e[n]})).reverse()})),r=[this.xy[0]+R[this.type][this.rotateIndex][0],this.xy[1]+R[this.type][this.rotateIndex][1]],a=this.rotateIndex+1>=R[this.type].length?0:this.rotateIndex+1;return new e({shape:n,type:this.type,xy:r,rotateIndex:a,timeStamp:this.timeStamp})}},{key:"fall",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new e({shape:this.shape,type:this.type,xy:[this.xy[0]+t,this.xy[1]],rotateIndex:this.rotateIndex,timeStamp:Date.now()})}},{key:"right",value:function(){return new e({shape:this.shape,type:this.type,xy:[this.xy[0],this.xy[1]+1],rotateIndex:this.rotateIndex,timeStamp:this.timeStamp})}},{key:"left",value:function(){return new e({shape:this.shape,type:this.type,xy:[this.xy[0],this.xy[1]-1],rotateIndex:this.rotateIndex,timeStamp:this.timeStamp})}}]),e}();function D(){var e,t=a.useState(new B({type:null!=(e=I.a.sample(W))?e:"T"})),n=b()(t,2),r=n[0],i=n[1];Object(w.a)((function(){i((function(e){var t;return e.xy[0]+e.shape.length<20?e.fall():new B({type:null!=(t=I.a.sample(W))?t:"T"})}))}),500),C()((function(e){38===e&&i((function(e){return e.rotate()})),37===e&&i((function(e){return e.left()})),39===e&&i((function(e){return e.right()})),40===e&&i((function(e){return e.fall()}))}));var o=function(e,t){var n=t.shape,r=t.xy;return n.forEach((function(t,a){return t.forEach((function(t,i){r[0]+a>=0&&r[0]+a<20&&r[1]+i<10&&(e[r[0]+a][r[1]+i]=n[a][i])}))})),e}(I.a.map(Array(20),(function(){return I.a.map(Array(10),0)})),r);return a.createElement(p.a,{style:F.container},a.createElement(h.a,{style:F.title},"Playground"),a.createElement(O,{matrix:o}))}var F=m.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold",marginBottom:20},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),G={prefixes:[n(176).makeUrl("/")],config:{screens:{Root:"/",Room:"/room",Playground:"/play",NotFound:"*"}}};function N(e){var t=e.colorScheme;return a.createElement(c.a,{linking:G,theme:"dark"===t?l.a:s.a},a.createElement(U,null))}var A=Object(u.a)();function U(){return a.createElement(A.Navigator,{screenOptions:{headerShown:!1}},a.createElement(A.Screen,{name:"Root",component:g}),a.createElement(A.Screen,{name:"Room",component:k}),a.createElement(A.Screen,{name:"Playground",component:D}),a.createElement(A.Screen,{name:"NotFound",component:d,options:{title:"Oops!"}}))}function q(){return i.a.createElement(o.b,null,i.a.createElement(N,null),i.a.createElement(r.StatusBar,null))}},198:function(e,t,n){n(199),e.exports=n(257)},199:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("redtetris.tk/expo-service-worker.js",{scope:"redtetris.tk/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[198,1,2]]]);
//# sourceMappingURL=app.7ef78aeb.chunk.js.map