{"version":3,"sources":["src/client/models/block.ts","src/client/components/Keypad/index.tsx","src/client/hooks/useWindowDimensions/index.ts","src/client/components/Gameboy/index.tsx","src/client/components/Digits/index.tsx","src/client/components/Block/index.tsx","src/client/components/Matrix/index.tsx","src/client/screens/Playground/index.tsx","src/client/screens/Playground/utils.tsx","src/client/screens/NotFoundScreen.tsx","src/client/screens/Login/index.tsx","src/client/navigation/LinkingConfiguration.ts","src/client/navigation/index.tsx","App.tsx","web-build/register-service-worker.js","src/client/constants/keyboard.ts","src/client/constants/tetriminos.ts","assets/sprite.png"],"names":["Block","option","this","type","timeStamp","Date","now","shape","blockShape","pos","initialPos","map","val","index","row","reverse","n","matrix","newState","fall","isValid","positions","_","rowIndex","colIndex","push","rows","getBlockPos","cols","left","min","top","right","max","bottom","undefined","find","shapePos","isEqual","hitBlock","col","getCorner","newMatrix","cloneDeep","size","bottomMatrix","topMatrix","sum","blankLine","RoundButton","color","label","style","onPress","disabled","View","alignItems","margin","TouchableOpacity","backgroundColor","borderRadius","height","width","shadowColor","shadowOffset","shadowOpacity","shadowRadius","Text","marginTop","Keypad","isPause","keyDown","key","document","dispatchEvent","KeyboardEvent","keyCode","which","flexDirection","flex","keyboard","pause","sound","reset","space","justifyContent","rotate","marginRight","down","useWindowDimensions","dim","React","Dimensions","get","dimensions","setDimensions","stillCareAboutTheCallback","updateDimensions","nextDimensions","addEventListener","removeEventListener","useDimensionsSync","Gameboy","scale","children","window","w","h","styles","container","gameboy","transform","title","display","position","opacity","StyleSheet","create","padding","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderWidth","paddingBottom","paddingHorizontal","fontSize","marginVertical","textAlign","Digits","imageURI","Asset","fromModule","require","uri","Array","source","overflow","imageStyle","resizeMode","marginBottom","outer","borderColor","inner","value","Matrix","block","isBlock","socket","io","Playground","params","useRoute","room","username","useState","roomUsers","setRoomUsers","sample","blockTypes","setBlock","blankMatrix","setMatrix","setIsPause","useEffect","emit","on","message","addResponseMessage","text","data","users","user","nextBlockType","indexOf","useInterval","includes","currentBlock","destroyBlock","printBlock","useKey","_key","prevState","prevIsPause","prevMatrix","drop","alignSelf","marginLeft","blockMatrix","subtitle","formatChatSubtitle","handleNewUserMessage","players","length","join","NotFoundScreen","navigation","replace","link","linkText","fontWeight","paddingVertical","Login","useNavigation","setUsername","setRoom","TextInput","onChangeText","prefixes","Linking","config","screens","Root","NotFound","Navigation","colorScheme","NavigationContainer","linking","LinkingConfiguration","theme","DarkTheme","DefaultTheme","RootNavigator","Stack","createStackNavigator","Navigator","screenOptions","headerShown","Screen","name","component","options","App","StatusBar","navigator","serviceWorker","register","scope","then","info","catch","error","console","I","L","J","Z","S","O","T","module","exports"],"mappings":"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","file":"static/js/app.3e8bb0af.chunk.js","sourcesContent":["import _ from 'lodash';\nimport { blockShape, initialPos, blankMatrix, blankLine } from '/client/constants/tetriminos';\n\nclass Block {\n  pos: number[];\n  shape: number[][];\n  type: TetriminosType;\n  timeStamp: number;\n\n  constructor(option: BlockOption) {\n    this.type = option.type;\n\n    if (!option.timeStamp) {\n      this.timeStamp = Date.now();\n    } else {\n      this.timeStamp = option.timeStamp;\n    }\n    if (!option.shape) {\n      this.shape = blockShape[this.type];\n    } else {\n      this.shape = option.shape;\n    }\n    if (!option.pos) {\n      this.pos = initialPos[this.type];\n    } else this.pos = option.pos;\n  }\n  rotate(): Block {\n    const shape = this.shape;\n    const result: number[][] = shape[0].map((val, index) => shape.map(row => row[index]).reverse());\n    return new Block({\n      shape: result,\n      type: this.type,\n      pos: this.pos,\n      timeStamp: this.timeStamp,\n    });\n  }\n  fall(n = 1): Block {\n    return new Block({\n      shape: this.shape,\n      type: this.type,\n      pos: [this.pos[0] + n, this.pos[1]],\n      timeStamp: Date.now(),\n    });\n  }\n  right(): Block {\n    return new Block({\n      shape: this.shape,\n      type: this.type,\n      pos: [this.pos[0], this.pos[1] + 1],\n      timeStamp: this.timeStamp,\n    });\n  }\n  left(): Block {\n    return new Block({\n      shape: this.shape,\n      type: this.type,\n      pos: [this.pos[0], this.pos[1] - 1],\n      timeStamp: this.timeStamp,\n    });\n  }\n  drop(matrix: Matrix): Block {\n    let newState = new Block({ type: this.type, pos: this.pos, shape: this.shape });\n    while (newState.fall().isValid(matrix)) { \n      newState = newState.fall();\n    }\n    return newState;\n  }\n  getBlockPos(): number[][] {\n    const positions: number[][] = [];\n    _.map(this.shape, (row, rowIndex) =>\n      _.map(row, (val, colIndex) => { \n        if (val) positions.push([rowIndex + this.pos[0], colIndex + this.pos[1]]);\n      }));\n    return positions;\n  }\n  getCorner(): { left: number, top: number, right: number, bottom: number } { \n    const rows = _.map(this.getBlockPos(), ([row]) => row);\n    const cols = _.map(this.getBlockPos(), ([, col]) => col);\n    return {\n      left: _.min(cols) ?? 0,\n      top: _.min(rows) ?? 0,\n      right: _.max(cols) ?? 0,\n      bottom: _.max(rows) ?? 0,\n    };\n  }\n  isBlock(pos: number[]): boolean { \n    return _.find(this.getBlockPos(), (shapePos) => _.isEqual(shapePos, pos)) !== undefined;\n  }\n  isValid(matrix: Matrix): boolean { \n    const hitBlock = _.find(this.getBlockPos(), ([row, col]) => matrix?.[row]?.[col]);\n    const { left, right, bottom } = this.getCorner();\n    return bottom < 20\n      && left >= 0\n      && right < 10\n      && !hitBlock;\n  }\n  printBlock(matrix: Matrix): Matrix { \n    const newMatrix = _.cloneDeep(matrix);\n    _.map(this.getBlockPos(), (pos) => {\n      if (pos[0] >= 0 && pos[0] < _.size(newMatrix)\n        && pos[1] >= 0 && pos[1] < _.size(newMatrix[0])) {\n        newMatrix[pos[0]][pos[1]] = 1;\n      }\n    });\n    return newMatrix;\n  }\n  destroyBlock(matrix: Matrix): Matrix { \n    let bottomMatrix: Matrix = [];\n    let topMatrix: Matrix = [];\n    _.map(matrix, (row) => {\n      if ((_.sum(row) ?? 0) < 10) {\n        bottomMatrix = _.cloneDeep([...bottomMatrix, row]);\n      } else { \n        topMatrix = _.cloneDeep([...topMatrix, blankLine]);\n      }\n    });\n    return _.cloneDeep([...topMatrix, ...bottomMatrix]);\n  }\n}\n\nexport default Block;\n","import { TouchableOpacity, View, Text, ViewStyle } from 'react-native';\nimport * as React from 'react';\n\nimport { keyboard } from '/client/constants/keyboard';\n\nconst RoundButton = ({\n  size, color, label, style, onPress, disabled,\n}: {\n  size: number, color: string, label?: string,\n  style?: ViewStyle, onPress?: () => void, disabled?: boolean,\n}): JSX.Element => {\n  return (\n    <View style={[{ alignItems: 'center', margin: 10 }, style]}>\n      <TouchableOpacity\n        disabled={disabled}\n        onPress={onPress}\n        style={{\n          backgroundColor: color,\n          borderRadius: size / 2,\n          height: size,\n          width: size,\n          shadowColor: 'rgba(0,0,0, .4)',\n          shadowOffset: { height: 1, width: 1 },\n          shadowOpacity: 20,\n          shadowRadius: 5,\n        }} />\n      <Text style={{ marginTop: 10 }}>{label}</Text>\n    </View>\n  );\n};\n\nconst Keypad = ({ isPause }: { isPause?: boolean }): JSX.Element => {\n  const keyDown = (key: number) => {\n    // @ts-ignore https://github.com/microsoft/TSJS-lib-generator/pull/892\n    document.dispatchEvent(new KeyboardEvent('keydown', { keyCode: key, which: key }));\n  };\n  return (\n    <View>\n      <View style={{ flexDirection: 'row' }}>\n        <View style={{ flex: 1 }}>\n          <View style={{ flexDirection: 'row', marginTop: 20 }}>\n            <RoundButton\n              color=\"#2dc421\" size={50} label=\"Pause/Play(P)\"\n              onPress={() => keyDown(keyboard.pause)}\n            />\n            <RoundButton\n              color=\"#2dc421\" size={50} label=\"Sound(S)\"\n              onPress={() => keyDown(keyboard.sound)}\n            />\n            <RoundButton\n              color=\"#efcc19\" size={50} label=\"Reset(R)\"\n              onPress={() => keyDown(keyboard.reset)}\n            />\n          </View>\n          <View style={{ alignItems: 'center' }}>\n            <RoundButton\n              color=\"#5a65f1\" size={160} label=\"Drop(Space)\" style={{ marginTop: 20 }}\n              disabled={isPause}\n              onPress={() => keyDown(keyboard.space)}\n            />\n          </View>\n        </View>\n        <View style={{ alignItems: 'center', flex: 1, justifyContent: 'center' }}>\n          <RoundButton\n            color=\"#5a65f1\" size={70} style={{ margin: 0 }}\n            disabled={isPause}\n            onPress={() => keyDown(keyboard.rotate)}\n          />\n          <View style={{ flexDirection: 'row' }}>\n            <RoundButton\n              color=\"#5a65f1\" size={70} style={{ margin: 0, marginRight: 60 }}\n              disabled={isPause}\n              onPress={() => keyDown(keyboard.left)}\n            />\n            <RoundButton\n              color=\"#5a65f1\" size={70} style={{ margin: 0 }}\n              disabled={isPause}\n              onPress={() => keyDown(keyboard.right)}\n            />\n          </View>\n          <RoundButton\n            color=\"#5a65f1\" size={70} style={{ margin: 0 }}\n            disabled={isPause}\n            onPress={() => keyDown(keyboard.down)}\n          />\n        </View>\n      </View>\n    </View>\n  );\n};\n\nexport default Keypad;\n","import { Dimensions, ScaledSize } from 'react-native';\nimport * as React from 'react';\n\ntype EventValue = {\n  window: ScaledSize;\n  screen: ScaledSize;\n};\n\nexport const useDimensionsSync = (dim: 'window' | 'screen' = 'window'): { width: number, height: number } => {\n  const [dimensions, setDimensions] = React.useState(() => Dimensions.get(dim));\n\n  // Start listening to changes\n  React.useEffect(() => {\n    let stillCareAboutTheCallback = true;\n\n    const updateDimensions = (nextDimensions: EventValue) => {\n      stillCareAboutTheCallback && setDimensions(nextDimensions[dim]);\n    };\n\n    Dimensions.addEventListener('change', updateDimensions);\n\n    return () => {\n      stillCareAboutTheCallback = false;\n      Dimensions.removeEventListener('change', updateDimensions);\n    };\n  }, [dim, setDimensions]);\n\n  return dimensions;\n};\n\nexport const useWindowDimensions = (): { width: number, height: number } => {\n  return useDimensionsSync('window');\n};\n","import { StyleSheet, Text, View } from 'react-native';\nimport * as React from 'react';\nimport Keypad from '/client/components/Keypad';\n\nimport { useWindowDimensions } from '/client/hooks/useWindowDimensions';\n\nexport default function Gameboy({ children, isPause }: { children: React.ReactChild, isPause?: boolean }): JSX.Element {\n  const window = useWindowDimensions();\n  const w = window.width;\n  const h = window.height;\n  const ratio = h / w;\n  let scale;\n  if (ratio < 1.5) {\n    scale = h / 960;\n  } else {\n    scale = w / 560;\n  }\n  return (\n    <View style={styles.container}>\n      <View style={[styles.gameboy, { transform: [{ scale }] }]}>\n        <Text style={styles.title}>R E D ■ T E T R I S</Text>\n        <View style={styles.display}>\n          {children}\n          {isPause ?\n            <View style={[styles.display, { position: 'absolute', opacity: 0.8 }]} >\n              <Text>Press Play(P) to start</Text>\n            </View>\n            : null}\n        </View>\n        <Keypad isPause={isPause}/>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#009688',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    height: '100%',\n  },\n  display: {\n    alignItems: 'center',\n    backgroundColor: '#9ead86',\n    borderBottomColor: '#fa6b6b',\n    borderLeftColor: '#980f0f',\n    borderRightColor: '#fa6b6b',\n    borderTopColor: '#980f0f',\n    borderWidth: 5,\n    height: 470,\n    justifyContent: 'center',\n    padding: 10,\n    width: 400,\n  },\n  gameboy: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#af0000',\n    borderRadius: 20,\n    paddingBottom: 50,\n    paddingHorizontal: 50,\n  },\n  title: {\n    fontSize: 30,\n    marginVertical: 20,\n    textAlign: 'center',\n  },\n});\n","import _ from 'lodash';\nimport { Asset } from 'expo-asset';\nimport { ImageBackground, View, ViewStyle } from 'react-native';\nimport * as React from 'react';\n\nexport default function Digits({ style }: { style?: ViewStyle }): JSX.Element {\n  // eslint-disable-next-line @typescript-eslint/no-var-requires\n  const imageURI = Asset.fromModule(require('../../../../assets/sprite.png')).uri;\n  return (\n    <View style={[{ flexDirection: 'row' }, style]} >\n      {_.map(Array(6), (val, index: number) => <ImageBackground\n        key={index}\n        source={{ uri: imageURI }}\n        style={{ width: 14, height: 24, overflow: 'hidden' }}\n        imageStyle={{\n          height: 186,\n          left: -215,\n          resizeMode: 'cover',\n          top: -25,\n          width: 400,\n        }}\n      />)}\n    </View>\n  );\n}\n","import { StyleSheet, View } from 'react-native';\nimport * as React from 'react';\n\nconst styles = StyleSheet.create({\n  container: {\n    marginRight: 2,\n    marginBottom: 2,\n  },\n  outer: {\n    alignItems: 'center',\n    borderColor: '#879372',\n    borderWidth: 1,\n    height: 20,\n    justifyContent: 'center',\n    width: 20,\n  },\n  inner: {\n    height: 12,\n    width: 12,\n    backgroundColor: '#879372',\n  },\n});\n\nconst Block = ({ value }: { value: number }): JSX.Element => {\n  return (\n    <View style={[styles.outer, value ? { borderColor: 'black' } : undefined]}>\n      <View style={[styles.inner, value ? { backgroundColor: 'black' } : undefined]} />\n    </View>\n  );\n};\n\nexport default Block;\n","import _ from 'lodash';\nimport { View, ViewStyle, StyleSheet } from 'react-native';\nimport * as React from 'react';\n\nimport BlockComponent from '/client/components/Block';\nimport Block from '/client/models/block';\n\nconst blockWidth = 22;\n\nconst Matrix = ({ block, matrix, style }: { block: Block, matrix: Matrix, style?: ViewStyle }): JSX.Element => {\n  return (\n    <View style={[styles.container, { height: _.size(matrix) * blockWidth }, style]}>\n      {_.map(matrix, (row, rowIndex) =>\n        <View key={rowIndex} style={{ flexDirection: 'row', width: _.size(row) * blockWidth, justifyContent: 'space-between' }}>\n          {_.map(row, (value, colIndex) => <BlockComponent key={colIndex} value={block.isBlock([rowIndex, colIndex]) ? 1 : value} />)}\n        </View>)}\n    </View>\n  );\n};\n\nexport default Matrix;\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: 2, justifyContent: 'space-between', borderColor: 'black', borderWidth: 1, backgroundColor: '#9ead86',\n  },\n});","import  React, { useState, useEffect } from 'react';\nimport _ from 'lodash';\nimport 'react-chat-widget/lib/styles.css';\nimport { View, Text } from 'react-native';\nimport { Widget as ChatWidget, addResponseMessage } from 'react-chat-widget';\nimport useInterval from '@use-it/interval';\nimport useKey from 'use-key-hook';\nimport { useRoute, RouteProp } from '@react-navigation/native';\nimport io from 'socket.io-client';\n\nimport { blankMatrix, blockMatrix } from '/client/constants/tetriminos';\nimport { blockTypes } from '/client/constants/tetriminos';\nimport { keyboard } from '/client/constants/keyboard';\nimport Block from '/client/models/block';\nimport Digits from '/client/components/Digits';\nimport formatChatSubtitle from '/client/screens/Playground/utils';\nimport Gameboy from '/client/components/Gameboy';\nimport Matrix from '/client/components/Matrix';\n\n// Initialize new socket\nconst socket = io(`${process.env.EXPO_SOCKET_URL}`);\n\nexport default function Playground(): JSX.Element {\n  const route = useRoute<RouteProp<RootStackParamList, 'Playground'>>();\n  const { params } = route;\n  const { room, username } = params ?? {};\n  const [roomUsers, setRoomUsers] = useState<string[]>([]);\n  const [block, setBlock] = useState<Block>(new Block({ type: _.sample(blockTypes) ?? 'T' }));\n  const [matrix, setMatrix] = useState<Matrix>(blankMatrix);\n  const [isPause, setIsPause] = useState<boolean>(true);\n  useEffect(() => {\n    socket.emit('joinRoom', { username, room });\n    // Message from server\n    socket.on('message', (message: Message) => {\n      if (message.username !== username)\n        addResponseMessage(message.username + ': ' + message.text, message.username);\n    });\n    socket.on('update room users', (data: { room: string, users: User[] }) => {\n      setRoomUsers(data.users.map((user) => user.username));\n    });\n  }, []);\n  const handleNewUserMessage = (message: string) => {\n    socket.emit('chatMessage', message);\n  };\n  const nextBlockType = blockTypes[(_.indexOf(blockTypes, block.type) + 1) % _.size(blockTypes)];\n  useInterval(() => {\n    if (isPause) return;\n    if (_.includes(matrix[0], 1)) {\n      setMatrix(blankMatrix);\n      setIsPause(true);\n    } else {\n      setBlock((currentBlock) => {\n        if (!block.fall().isValid(matrix)) {\n          setMatrix(block.destroyBlock(block.printBlock(matrix)));\n          return new Block({ type: nextBlockType });\n        } else {\n          return currentBlock.fall();\n        }\n      });\n    }\n  }, 500);\n  useKey((_key: number, { keyCode }: { keyCode: number }) => {\n    if (keyCode === keyboard.pause) setIsPause((prevState) => !prevState);\n    if (keyCode === keyboard.reset) {\n      setBlock(new Block({ type: _.sample(blockTypes) ?? 'T' }));\n      setMatrix(blankMatrix);\n      setIsPause(true);\n    }\n    setIsPause((prevIsPause) => {\n      setMatrix((prevMatrix) => {\n        if (!prevIsPause) {\n          if (keyCode === keyboard.rotate) {\n            setBlock((currentBlock) => currentBlock.rotate().isValid(prevMatrix) ? currentBlock.rotate() : currentBlock);\n          }\n          if (keyCode === keyboard.left) {\n            setBlock((currentBlock) => currentBlock.left().isValid(prevMatrix) ? currentBlock.left() : currentBlock);\n          }\n          if (keyCode === keyboard.right) {\n            setBlock((currentBlock) => currentBlock.right().isValid(prevMatrix) ? currentBlock.right() : currentBlock);\n          }\n          if (keyCode === keyboard.down) {\n            setBlock((currentBlock) => currentBlock.fall().isValid(prevMatrix) ? currentBlock.fall() : currentBlock);\n          }\n          if (keyCode === keyboard.space) {\n            setBlock((currentBlock) => currentBlock.drop(prevMatrix));\n          }\n        }\n        return prevMatrix;\n      });\n      return prevIsPause;\n    });\n  });\n  return (\n    <>\n      <Gameboy isPause={isPause}>\n        <View style={{ flexDirection: 'row', alignSelf:'flex-start', width: '100%' }}>\n          <Matrix matrix={matrix} block={block}/>\n          <View style={{ marginLeft: 20, flex: 1 }} >\n            <Text style={{ fontSize: 20 }}>Score</Text>\n            <Digits style={{ marginVertical: 10, alignSelf: 'flex-end' }} />\n            <Text style={{ fontSize: 20 }}>Start Line</Text>\n            <Digits style={{ marginVertical: 10, alignSelf: 'flex-end' }} />\n            <Text style={{ fontSize: 20 }}>Level</Text>\n            <Digits style={{ marginVertical: 10, alignSelf: 'flex-end' }} />\n            <Text style={{ fontSize: 20 }}>Next</Text>\n            <Matrix\n              matrix={blockMatrix}\n              block={new Block({ type: nextBlockType, pos: [0, 0] })}\n              style={{ borderWidth: 0, marginVertical: 10, alignSelf: 'flex-end' }}\n            />\n          </View>\n        </View>\n      </Gameboy>\n      {room && username &&\n        <ChatWidget title=\"RedTetris\" subtitle={formatChatSubtitle(roomUsers)} handleNewUserMessage={handleNewUserMessage}/>\n      }\n    </>\n  );\n}\n","const formatChatSubtitle = (players: string[]): string => {\n  if (players.length === 0) return 'No players';\n  return `Players: ${players.join(', ')}`;\n};\n\nexport default formatChatSubtitle;\n","import { StackScreenProps } from '@react-navigation/stack';\nimport * as React from 'react';\nimport { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\n\nexport default function NotFoundScreen({\n  navigation,\n}: StackScreenProps<RootStackParamList, 'NotFound'>): JSX.Element {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>{'This screen doesn\\'t exist.'}</Text>\n      <TouchableOpacity onPress={() => navigation.replace('Root')} style={styles.link}>\n        <Text style={styles.linkText}>Go to home screen!</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#2e78b7',\n  },\n});\n","import { StackNavigationProp } from '@react-navigation/stack';\nimport { StyleSheet, Text, TouchableOpacity, TextInput, View } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport * as React from 'react';\n\nimport Gameboy from '/client/components/Gameboy';\n\nexport default function Login(): JSX.Element {\n  const navigation = useNavigation<StackNavigationProp<RootStackParamList, 'Root'>>();\n  const [username, setUsername] = React.useState<string | null>();\n  const [room, setRoom] = React.useState<string | null>();\n  return (\n    <Gameboy>\n      <View style={{ alignItems: 'center' }}>\n        <Text style={styles.title}>{'Username'}</Text>\n        <TextInput\n          value={username ?? ''}\n          onChangeText={setUsername}\n          style={{ borderWidth: 1, marginBottom: 20, height: 30 }}\n        />\n        <Text style={styles.title}>{'Room'}</Text>\n        <TextInput\n          value={room ?? ''}\n          onChangeText={setRoom}\n          style={{ borderWidth: 1, marginBottom: 20, height: 30 }}\n        />\n        <TouchableOpacity\n          style={{ marginBottom: 20 }}\n          onPress={() => username && room && navigation.push('Playground', { username, room })}\n        >\n          <Text style={styles.linkText}>Join Room</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          onPress={() => navigation.push('Playground', {})}\n        >\n          <Text style={styles.linkText}>Solo mode</Text>\n        </TouchableOpacity>\n      </View>\n    </Gameboy>\n  );\n}\n\nconst styles = StyleSheet.create({\n  title: {\n    marginBottom: 10,\n    alignSelf: 'flex-start',\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#004580',\n  },\n});\n","import * as Linking from 'expo-linking';\n\nexport default {\n  prefixes: [Linking.makeUrl('/')],\n  config: {\n    screens: {\n      Root: '/',\n      Playground: '/play',\n      NotFound: '*',\n    },\n  },\n};\n","import { NavigationContainer, DefaultTheme, DarkTheme } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport * as React from 'react';\nimport { ColorSchemeName } from 'react-native';\n\nimport NotFoundScreen from '/client/screens/NotFoundScreen';\nimport Login from '/client/screens/Login';\nimport Playground from '/client/screens/Playground';\nimport LinkingConfiguration from '/client/navigation/LinkingConfiguration';\n\n// If you are not familiar with React Navigation, we recommend going through the\n// \"Fundamentals\" guide: https://reactnavigation.org/docs/getting-started\nexport default function Navigation({ colorScheme }: { colorScheme?: ColorSchemeName }): JSX.Element {\n  return (\n    <NavigationContainer\n      linking={LinkingConfiguration}\n      theme={colorScheme === 'dark' ? DarkTheme : DefaultTheme}>\n      <RootNavigator />\n    </NavigationContainer>\n  );\n}\n\n// A root stack navigator is often used for displaying modals on top of all other content\n// Read more here: https://reactnavigation.org/docs/modal\nconst Stack = createStackNavigator<RootStackParamList>();\n\nfunction RootNavigator() {\n  return (\n    <Stack.Navigator screenOptions={{ headerShown: false }}>\n      <Stack.Screen name=\"Root\" component={Login} />\n      <Stack.Screen name=\"Playground\" component={Playground} />\n      <Stack.Screen name=\"NotFound\" component={NotFoundScreen} options={{ title: 'Oops!' }} />\n    </Stack.Navigator>\n  );\n}\n","import { StatusBar } from 'expo-status-bar';\nimport React from 'react';\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\n\nimport Navigation from './src/client/navigation';\n\nexport default function App(): JSX.Element | null {\n  return (\n    <SafeAreaProvider>\n      <Navigation />\n      <StatusBar />\n    </SafeAreaProvider>\n  );\n}\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function () {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function (info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function (error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n","export const keyboard = {\n  'left': 37,\n  'rotate': 38,\n  'right': 39,\n  'down': 40,\n  'space': 32,\n  'sound': 83,\n  'reset': 82,\n  'pause': 80,\n};\n","import _ from 'lodash';\n\nexport const blockShape = {\n  I: [\n    [0, 0, 0, 0],\n    [1, 1, 1, 1],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n  ],\n  L: [\n    [0, 0, 1],\n    [1, 1, 1],\n    [0, 0, 0],\n  ],\n  J: [\n    [1, 0, 0],\n    [1, 1, 1],\n    [0, 0, 0],\n  ],\n  Z: [\n    [1, 1, 0],\n    [0, 1, 1],\n    [0, 0, 0],\n  ],\n  S: [\n    [0, 1, 1],\n    [1, 1, 0],\n    [0, 0, 0],\n  ],\n  O: [\n    [1, 1],\n    [1, 1],\n  ],\n  T: [\n    [0, 1, 0],\n    [1, 1, 1],\n    [0, 0, 0],\n  ],\n};\n\nexport const initialPos = {\n  I: [-2, 3],\n  L: [-2, 4],\n  J: [-2, 4],\n  Z: [-2, 4],\n  S: [-2, 4],\n  O: [-2, 4],\n  T: [-2, 4],\n};\n\nexport const blockTypes: TetriminosType[] = ['I','L','J','Z','S','O', 'T'];\n\nexport const speeds = [800, 650, 500, 370, 250, 160];\n\nexport const delays = [50, 60, 70, 80, 90, 100];\n\nexport const fillLine = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1];\n\nexport const blankLine = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\nexport const blankMatrix: Matrix = _.map(Array(20), () => _.map(Array(10), 0));\n\nexport const blockMatrix: Matrix = _.map(Array(2), () => _.map(Array(4), 0));\n","module.exports = __webpack_public_path__ + \"static/media/sprite.81de6409.png\";"],"sourceRoot":""}