{"version":3,"sources":["App.tsx","src/screens/NotFoundScreen.tsx","src/screens/Login/index.tsx","src/screens/Room/index.tsx","src/constants/tetriminos.ts","src/constants/keyboard.ts","src/models/block.ts","src/components/Block/index.tsx","src/components/Matrix/index.tsx","src/screens/Playground/index.tsx","src/navigation/LinkingConfiguration.ts","src/navigation/index.tsx","web-build/register-service-worker.js"],"names":["io","App","NotFoundScreen","navigation","View","style","styles","container","Text","title","TouchableOpacity","onPress","replace","link","linkText","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","padding","fontSize","fontWeight","marginTop","paddingVertical","color","Login","push","Room","blockShape","I","L","J","Z","S","O","T","origin","blockType","keyboard","Block","option","this","type","xy","rotateIndex","timeStamp","Date","now","shape","map","e","result","val","index","row","reverse","nextXy","nextRotateIndex","length","n","marginRight","marginBottom","outer","borderColor","borderWidth","height","width","inner","value","undefined","Matrix","matrix","_","size","key","flexDirection","Playground","React","sample","block","setBlock","useInterval","currentBlock","fall","useKey","rotate","left","right","newMatrix","forEach","m","i","j","printBlock","Array","gameboy","display","alignSelf","borderLeftColor","borderTopColor","borderRightColor","borderBottomColor","borderRadius","paddingBottom","paddingHorizontal","marginVertical","textAlign","prefixes","Linking","config","screens","Root","NotFound","Navigation","colorScheme","NavigationContainer","linking","LinkingConfiguration","theme","DarkTheme","DefaultTheme","RootNavigator","Stack","createStackNavigator","Navigator","screenOptions","headerShown","Screen","name","component","options","navigator","window","addEventListener","serviceWorker","register","scope","then","info","catch","error","console"],"mappings":"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","file":"static/js/app.9d994e8d.chunk.js","sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React from 'react';\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\n\nimport Navigation from '/navigation';\nimport io from 'socket.io-client';\n\n// Check socket connection\nconst socket = io(`${process.env.EXPO_SOCKET_URL}`);\n\nexport default function App(): JSX.Element | null {\n    return (\n      <SafeAreaProvider>\n        <Navigation />\n        <StatusBar />\n      </SafeAreaProvider>\n    );\n}\n","import { StackScreenProps } from '@react-navigation/stack';\nimport * as React from 'react';\nimport { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\n\nexport default function NotFoundScreen({\n  navigation,\n}: StackScreenProps<RootStackParamList, 'NotFound'>): JSX.Element {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>{'This screen doesn\\'t exist.'}</Text>\n      <TouchableOpacity onPress={() => navigation.replace('Root')} style={styles.link}>\n        <Text style={styles.linkText}>Go to home screen!</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#2e78b7',\n  },\n});\n","import { StackScreenProps } from '@react-navigation/stack';\nimport * as React from 'react';\nimport { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\n\nexport default function Login({\n  navigation,\n}: StackScreenProps<RootStackParamList, 'Root'>): JSX.Element {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>{'Login'}</Text>\n      <TouchableOpacity onPress={() => navigation.push('Room')} style={styles.link}>\n        <Text style={styles.linkText}>Go to room!</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#2e78b7',\n  },\n});\n","import { StackScreenProps } from '@react-navigation/stack';\nimport * as React from 'react';\nimport { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\n\nexport default function Room({\n  navigation,\n}: StackScreenProps<RootStackParamList, 'Room'>): JSX.Element {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>{'Room'}</Text>\n      <TouchableOpacity onPress={() => navigation.push('Playground')} style={styles.link}>\n        <Text style={styles.linkText}>Go to Playground!</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#2e78b7',\n  },\n});\n","import _ from 'lodash';\n\nexport const blockShape = {\n  I: [\n    [1, 1, 1, 1],\n  ],\n  L: [\n    [0, 0, 1],\n    [1, 1, 1],\n  ],\n  J: [\n    [1, 0, 0],\n    [1, 1, 1],\n  ],\n  Z: [\n    [1, 1, 0],\n    [0, 1, 1],\n  ],\n  S: [\n    [0, 1, 1],\n    [1, 1, 0],\n  ],\n  O: [\n    [1, 1],\n    [1, 1],\n  ],\n  T: [\n    [0, 1, 0],\n    [1, 1, 1],\n  ],\n};\n\nexport const origin = {\n  I: [[-1, 1], [1, -1]],\n  L: [[0, 0]],\n  J: [[0, 0]],\n  Z: [[0, 0]],\n  S: [[0, 0]],\n  O: [[0, 0]],\n  T: [[0, 0], [1, 0], [-1, 1], [0, -1]],\n};\n\nexport const blockType: TetriminosType[] = ['I','L','J','Z','S','O', 'T'];\n\nexport const speeds = [800, 650, 500, 370, 250, 160];\n\nexport const delays = [50, 60, 70, 80, 90, 100];\n\nexport const fillLine = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1];\n\nexport const blankLine = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\nexport const blankMatrix = (): Matrix => _.map(Array(20), () => _.map(Array(10), 0));\n","export const keyboard = {\n  'left': 37,\n  'rotate': 38,\n  'right': 39,\n  'down': 40,\n  'space': 32,\n  'sound': 83,\n  'reset': 82,\n  'pause': 80,\n};\n","import _ from 'lodash';\n\nimport { blockShape, origin } from '/constants/tetriminos.ts';\n\nclass Block {\n  xy: number[];\n  shape: number[][];\n  type: TetriminosType;\n  rotateIndex: number;\n  timeStamp: number;\n\n  constructor(option: BlockOption) {\n    this.type = option.type;\n    this.xy = option.xy ?? [-1, 4];\n  \n    if (!option.rotateIndex) {\n      this.rotateIndex = 0;\n    } else {\n      this.rotateIndex = option.rotateIndex;\n    }\n\n    if (!option.timeStamp) {\n      this.timeStamp = Date.now();\n    } else {\n      this.timeStamp = option.timeStamp;\n    }\n\n    if (!option.shape) { // init\n      this.shape = blockShape[option.type].map((e) => e);\n    } else {\n      this.shape = option.shape;\n    }\n    if (!option.xy) {\n      switch (option.type) {\n        case 'I': // I\n          this.xy = [0, 3];\n          break;\n        case 'L': // L\n          this.xy = [-1, 4];\n          break;\n        case 'J': // J\n          this.xy = [-1, 4];\n          break;\n        case 'Z': // Z\n          this.xy = [-1, 4];\n          break;\n        case 'S': // S\n          this.xy = [-1, 4];\n          break;\n        case 'O': // O\n          this.xy = [-1, 4];\n          break;\n        case 'T': // T\n          this.xy = [-1, 4];\n          break;\n        default:\n          break;\n      }\n    }\n  }\n  rotate(): Block {\n    const shape = this.shape;\n    const result: number[][] = shape[0].map((val, index) => shape.map(row => row[index]).reverse());\n    const nextXy = [\n      this.xy[0] + origin[this.type][this.rotateIndex][0],\n      this.xy[1] + origin[this.type][this.rotateIndex][1],\n    ];\n    const nextRotateIndex = this.rotateIndex + 1 >= origin[this.type].length ?\n      0 : this.rotateIndex + 1;\n    return new Block({\n      shape: result,\n      type: this.type,\n      xy: nextXy,\n      rotateIndex: nextRotateIndex,\n      timeStamp: this.timeStamp,\n    });\n  }\n  fall(n = 1): Block {\n    return new Block({\n      shape: this.shape,\n      type: this.type,\n      xy: [this.xy[0] + n, this.xy[1]],\n      rotateIndex: this.rotateIndex,\n      timeStamp: Date.now(),\n    });\n  }\n  right(): Block {\n    return new Block({\n      shape: this.shape,\n      type: this.type,\n      xy: [this.xy[0], this.xy[1] + 1],\n      rotateIndex: this.rotateIndex,\n      timeStamp: this.timeStamp,\n    });\n  }\n  left(): Block {\n    return new Block({\n      shape: this.shape,\n      type: this.type,\n      xy: [this.xy[0], this.xy[1] - 1],\n      rotateIndex: this.rotateIndex,\n      timeStamp: this.timeStamp,\n    });\n  }\n}\n\nexport default Block;\n","import { StyleSheet, View } from 'react-native';\nimport * as React from 'react';\n\nconst styles = StyleSheet.create({\n  container: {\n    marginRight: 2,\n    marginBottom: 2,\n  },\n  outer: {\n    alignItems: 'center',\n    borderColor: '#879372',\n    borderWidth: 1,\n    height: 20,\n    justifyContent: 'center',\n    width: 20,\n  },\n  inner: {\n    height: 12,\n    width: 12,\n    backgroundColor: '#879372',\n  },\n});\n\nconst Block = ({ value }: { value: number }): JSX.Element => {\n  return (\n    <View style={[styles.outer, value ? { borderColor: 'black' } : undefined]}>\n      <View style={[styles.inner, value ? { backgroundColor: 'black' } : undefined]} />\n    </View>\n  );\n};\n\nexport default Block;\n","import _ from 'lodash';\nimport { View } from 'react-native';\nimport * as React from 'react';\n\nimport Block from '/components/Block';\n\nconst Matrix = ({ matrix }: { matrix: Matrix }): JSX.Element => {\n  return (\n    <View style={{ height: _.size(matrix) * 22, padding: 2, justifyContent: 'space-between', borderColor: 'black', borderWidth: 1, backgroundColor: '#9ead86' }}>\n      {_.map(matrix, (row, index) =>\n        <View key={index} style={{ flexDirection: 'row', width: _.size(row) * 22, justifyContent: 'space-between' }}>\n          {_.map(row, (value, index) => <Block key={index} value={value} />)}\n        </View>)}\n    </View>\n  );\n};\n\nexport default Matrix;\n","import _ from 'lodash';\nimport { StyleSheet, Text, View } from 'react-native';\nimport * as React from 'react';\nimport useInterval from '@use-it/interval';\nimport useKey from 'use-key-hook';\n\nimport { blankMatrix } from '/constants/tetriminos';\nimport { blockType } from '/constants/tetriminos';\nimport { keyboard } from '/constants/keyboard';\nimport Block from '/models/block';\nimport Matrix from '/components/Matrix';\n\nconst printBlock = (matrix: Matrix, block: Block) => { \n  const { shape, xy } = block;\n  shape.forEach((m, i) => (\n    m.forEach((n, j) => {\n      if (xy[0] + i >= 0 && xy[0] + i < 20 && xy[1] + j < 10) {\n        matrix[xy[0] + i][xy[1] + j] = shape[i][j];\n      }\n    })\n  ));\n  return matrix;\n};\n\nexport default function Playground(): JSX.Element {\n  const [block, setBlock] = React.useState<Block>(new Block({\n    type: _.sample<TetriminosType>(blockType) ?? 'T',\n  }));\n  useInterval(() => {\n    setBlock((currentBlock) =>\n      (currentBlock.xy[0] + currentBlock.shape.length < 20)\n        ? currentBlock.fall()\n        : new Block({\n          type: _.sample<TetriminosType>(blockType) ?? 'T',\n        }));\n  }, 500);\n  useKey((key: number) => {\n    if (key === keyboard.rotate) setBlock((currentBlock) => currentBlock.rotate());\n    if (key === keyboard.left) setBlock((currentBlock) => currentBlock.left());\n    if (key === keyboard.right) setBlock((currentBlock) => currentBlock.right());\n    if (key === keyboard.down) setBlock((currentBlock) => currentBlock.fall());\n  });\n  const newMatrix = printBlock(blankMatrix(), block);\n  return (\n    <View style={styles.container}>\n      <View style={styles.gameboy}>\n        <Text style={styles.title}>R E D ■ T E T R I S</Text>\n        <View style={styles.display}>\n          <Matrix matrix={newMatrix} />\n          <View style={{ width: 150 }} />\n        </View>\n        <View style={{ height: 350 }}/>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#009688',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n  },\n  display: {\n    alignSelf: 'baseline',\n    backgroundColor: '#9ead86',\n    borderWidth: 5,\n    flexDirection: 'row',\n    padding: 10,\n    borderLeftColor: '#980f0f',\n    borderTopColor: '#980f0f',\n    borderRightColor: '#fa6b6b',\n    borderBottomColor: '#fa6b6b',\n  },\n  gameboy: {\n    backgroundColor: '#ee1919',\n    borderRadius: 20,\n    paddingBottom: 50,\n    paddingHorizontal: 80,\n  },\n  title: {\n    fontSize: 30,\n    marginVertical: 20,\n    textAlign: 'center',\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#2e78b7',\n  },\n});\n","import * as Linking from 'expo-linking';\n\nexport default {\n  prefixes: [Linking.makeUrl('/')],\n  config: {\n    screens: {\n      Root: '/',\n      Room: '/room',\n      Playground: '/play',\n      NotFound: '*',\n    },\n  },\n};\n","import { NavigationContainer, DefaultTheme, DarkTheme } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport * as React from 'react';\nimport { ColorSchemeName } from 'react-native';\n\nimport NotFoundScreen from '/screens/NotFoundScreen';\nimport Login from '/screens/Login';\nimport Room from '/screens/Room';\nimport Playground from '/screens/Playground';\nimport LinkingConfiguration from '/navigation/LinkingConfiguration';\n\n// If you are not familiar with React Navigation, we recommend going through the\n// \"Fundamentals\" guide: https://reactnavigation.org/docs/getting-started\nexport default function Navigation({ colorScheme }: { colorScheme?: ColorSchemeName }): JSX.Element {\n  return (\n    <NavigationContainer\n      linking={LinkingConfiguration}\n      theme={colorScheme === 'dark' ? DarkTheme : DefaultTheme}>\n      <RootNavigator />\n    </NavigationContainer>\n  );\n}\n\n// A root stack navigator is often used for displaying modals on top of all other content\n// Read more here: https://reactnavigation.org/docs/modal\nconst Stack = createStackNavigator<RootStackParamList>();\n\nfunction RootNavigator() {\n  return (\n    <Stack.Navigator screenOptions={{ headerShown: false }}>\n      <Stack.Screen name=\"Root\" component={Login} />\n      <Stack.Screen name=\"Room\" component={Room} />\n      <Stack.Screen name=\"Playground\" component={Playground} />\n      <Stack.Screen name=\"NotFound\" component={NotFoundScreen} options={{ title: 'Oops!' }} />\n    </Stack.Navigator>\n  );\n}\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function () {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function (info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function (error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n"],"sourceRoot":""}